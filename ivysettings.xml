<ivysettings>
  <property name="repo.host" value="repository.inativ.fr" override="false"/>
  <property name="repo.realm" value="Sonatype Nexus Repository Manager" override="false"/>
  <property name="repo.user" value="inativ"  override="false"/>
  <property name="repo.pass" value="inativ"  override="false"/>          

    <credentials host="${repo.host}" realm="${repo.realm}" username="${repo.user}" passwd="${repo.pass}"/>

  <settings defaultResolver="mavenDual"/>
  <resolvers>
    <chain name="mavenChain" returnFirst="true">
      <ibiblio name="inativMaven" m2compatible="true" root="http://jenkins.inativ.local/mvn_repository/"/>
      <ibiblio name="mavenCentral" m2compatible="true" root="https://repository.inativ.fr/repository/maven-public/"/>
    </chain>

    <dual name="mavenDual">
      <resolver ref="mavenChain"/>
      <resolver ref="mavenChain"/>
    </dual>
    
    <chain name="inativ" returnFirst="true">
      <filesystem name="inativLocal" local="true">
        <ivy pattern="${ivy.default.ivy.user.dir}/local_modules/[module]/conf/dependencies.yml"/>
        <artifact pattern="${ivy.default.ivy.user.dir}/local_modules/[module]"/>        
      </filesystem>

      <url name="inativCentral">
        <ivy pattern="http://jenkins.inativ.local/repository/[module]/[revision]/dependencies.yml"/>
        <artifact pattern="http://jenkins.inativ.local/repository/[module]/[revision]/[module]-[revision].zip"/>
      </url>


      <filesystem name="inativLocal" local="true">
        <ivy pattern="${application.path}/../[module]/conf/dependencies.yml"/>
        <artifact pattern="${application.path}/../[module]"/>        
      </filesystem>
   </chain>
  </resolvers>

  <modules>
    <module organisation="inativ" name="*" resolver="inativ"/>
    <module organisation="greenscript" name="*" resolver="inativ"/>
    <module organisation="cobertura" name="*" resolver="inativ"/>
  </modules>

</ivysettings>
